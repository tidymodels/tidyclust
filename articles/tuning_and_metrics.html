<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="description" content="tidyclust">
<title>Tuning Cluster Models • tidyclust</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png">
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png">
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/Source_Sans_Pro-0.4.9/font.css" rel="stylesheet">
<link href="../deps/Source_Code_Pro-0.4.9/font.css" rel="stylesheet">
<!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.11/clipboard.min.js" integrity="sha512-7O5pXpc0oCRrxk8RUfDYFgn0nO1t+jLuIOQdOMRp4APB7uZ4vSjspzp5y6YDtDs4VzUSTbWzBFZ/LKJhnyFOKw==" crossorigin="anonymous" referrerpolicy="no-referrer"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Tuning Cluster Models">
<meta property="og:description" content="tidyclust">
<meta property="og:image" content="https://tidyclust.tidymodels.org/logo.svg">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--><script defer data-domain="tidyclust.tidymodels.org,all.tidymodels.org" src="https://plausible.io/js/plausible.js"></script>
</head>
<body>
    <a href="#container" class="visually-hidden-focusable">Skip to content</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-none" data-bs-theme="light"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">tidyclust</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="Released version">0.2.3</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="active nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="../articles/hier_clust.html">Hierarchical Clustering</a>
    <a class="dropdown-item" href="../articles/k_means.html">k-means</a>
    <a class="dropdown-item" href="../articles/tuning_and_metrics.html">Tuning Cluster Models</a>
  </div>
</li>
<li class="nav-item">
  <a class="nav-link" href="../news/index.html">Changelog</a>
</li>
      </ul>
<form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off">
</form>

      <ul class="navbar-nav">
<li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/tidymodels/tidyclust/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>

    
  </div>
</nav><div class="container template-article" id="container">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.svg" class="logo" alt=""><h1>Tuning Cluster Models</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/tidymodels/tidyclust/blob/HEAD/vignettes/articles/tuning_and_metrics.Rmd" class="external-link"><code>vignettes/articles/tuning_and_metrics.Rmd</code></a></small>
      <div class="d-none name"><code>tuning_and_metrics.Rmd</code></div>
    </div>

    
    
<div class="section level2">
<h2 id="setup">Setup<a class="anchor" aria-label="anchor" href="#setup"></a>
</h2>
<p>Load libraries:</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/tidymodels/tidyclust" class="external-link">tidyclust</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://tidyverse.tidyverse.org" class="external-link">tidyverse</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://tidymodels.tidymodels.org" class="external-link">tidymodels</a></span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/Random.html" class="external-link">set.seed</a></span><span class="op">(</span><span class="fl">838383</span><span class="op">)</span></span></code></pre></div>
<p>Load and clean a dataset:</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="st">"penguins"</span>, package <span class="op">=</span> <span class="st">"modeldata"</span><span class="op">)</span></span>
<span></span>
<span><span class="va">penguins</span> <span class="op">&lt;-</span> <span class="va">penguins</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://tidyr.tidyverse.org/reference/drop_na.html" class="external-link">drop_na</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="tuning-in-unsupervised-settings">Tuning in unsupervised settings<a class="anchor" aria-label="anchor" href="#tuning-in-unsupervised-settings"></a>
</h2>
<p>In <em>supervised modeling</em> scenarios, we observe values of a
target (or “response”) variable, and we measure the success of our model
based on how well it predicts future response values. To select
hyperparameter values, we <strong>tune</strong> them, trying many
possible values and measuring how well each performs when predicting
target values of test data.</p>
<p>In the <em>unsupervised modeling</em> setting of
<code>tidyclust</code>, there is no such objective measure of success.
Clustering analyses are typically exploratory rather than testable.
Nonetheless, the core tuning principle of varying inputs and quantifying
results is still applicable.</p>
</div>
<div class="section level2">
<h2 id="specify-and-fit-a-model">Specify and fit a model<a class="anchor" aria-label="anchor" href="#specify-and-fit-a-model"></a>
</h2>
<p>In this example, we will fit a <span class="math inline">\(k\)</span>-means cluster model to the
<code>palmerpenguins</code> dataset, using only the bill length and bill
depth of penguins as predictors.</p>
<p>(Please refer to the k-means vignette for an in-depth discussion of
this model specification.)</p>
<p>Our goal will be to select an appropriate number of clusters for the
model based on metrics.</p>
<p>First, we set up cross-validation samples for our data:</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">penguins_cv</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rsample.tidymodels.org/reference/vfold_cv.html" class="external-link">vfold_cv</a></span><span class="op">(</span><span class="va">penguins</span>, v <span class="op">=</span> <span class="fl">5</span><span class="op">)</span></span></code></pre></div>
<p>Next, we specify our model with a tuning parameter, make a workflow,
and establish a range of possible values of <code>num_clusters</code> to
try:</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">kmeans_spec</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/k_means.html">k_means</a></span><span class="op">(</span>num_clusters <span class="op">=</span> <span class="fu"><a href="https://hardhat.tidymodels.org/reference/tune.html" class="external-link">tune</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="va">penguins_rec</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://recipes.tidymodels.org/reference/recipe.html" class="external-link">recipe</a></span><span class="op">(</span><span class="op">~</span> <span class="va">bill_length_mm</span> <span class="op">+</span> <span class="va">bill_depth_mm</span>,</span>
<span>  data <span class="op">=</span> <span class="va">penguins</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="va">kmeans_wflow</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://workflows.tidymodels.org/reference/workflow.html" class="external-link">workflow</a></span><span class="op">(</span><span class="va">penguins_rec</span>, <span class="va">kmeans_spec</span><span class="op">)</span></span>
<span></span>
<span><span class="va">clust_num_grid</span> <span class="op">&lt;-</span> <span class="fu">grid_regular</span><span class="op">(</span><span class="fu">num_clusters</span><span class="op">(</span><span class="op">)</span>,</span>
<span>  levels <span class="op">=</span> <span class="fl">10</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="va">clust_num_grid</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 10 × 1</span></span></span>
<span><span class="co">#&gt;    num_clusters</span></span>
<span><span class="co">#&gt;           <span style="color: #949494; font-style: italic;">&lt;int&gt;</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 1</span>            1</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 2</span>            2</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 3</span>            3</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 4</span>            4</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 5</span>            5</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 6</span>            6</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 7</span>            7</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 8</span>            8</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 9</span>            9</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">10</span>           10</span></span></code></pre></div>
<p>Then, we can use <code><a href="../reference/tune_cluster.html">tune_cluster()</a></code> to compute metrics on
each cross-validation split, for each possible choice of number of
clusters.</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">res</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/tune_cluster.html">tune_cluster</a></span><span class="op">(</span></span>
<span>  <span class="va">kmeans_wflow</span>,</span>
<span>  resamples <span class="op">=</span> <span class="va">penguins_cv</span>,</span>
<span>  grid <span class="op">=</span> <span class="va">clust_num_grid</span>,</span>
<span>  control <span class="op">=</span> <span class="fu"><a href="https://tune.tidymodels.org/reference/control_grid.html" class="external-link">control_grid</a></span><span class="op">(</span>save_pred <span class="op">=</span> <span class="cn">TRUE</span>, extract <span class="op">=</span> <span class="va">identity</span><span class="op">)</span>,</span>
<span>  metrics <span class="op">=</span> <span class="fu"><a href="../reference/cluster_metric_set.html">cluster_metric_set</a></span><span class="op">(</span><span class="va">sse_within_total</span>, <span class="va">sse_total</span>, <span class="va">sse_ratio</span><span class="op">)</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="va">res</span></span>
<span><span class="co">#&gt; # Tuning results</span></span>
<span><span class="co">#&gt; # 5-fold cross-validation </span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 5 × 6</span></span></span>
<span><span class="co">#&gt;   splits           id    .metrics          .notes   .extracts .predictions</span></span>
<span><span class="co">#&gt;   <span style="color: #949494; font-style: italic;">&lt;list&gt;</span>           <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> <span style="color: #949494; font-style: italic;">&lt;list&gt;</span>            <span style="color: #949494; font-style: italic;">&lt;list&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;list&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;list&gt;</span>      </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">1</span> <span style="color: #949494;">&lt;split [266/67]&gt;</span> Fold1 <span style="color: #949494;">&lt;tibble [30 × 5]&gt;</span> <span style="color: #949494;">&lt;tibble&gt;</span> <span style="color: #949494;">&lt;tibble&gt;</span>  <span style="color: #949494;">&lt;tibble&gt;</span>    </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">2</span> <span style="color: #949494;">&lt;split [266/67]&gt;</span> Fold2 <span style="color: #949494;">&lt;tibble [30 × 5]&gt;</span> <span style="color: #949494;">&lt;tibble&gt;</span> <span style="color: #949494;">&lt;tibble&gt;</span>  <span style="color: #949494;">&lt;tibble&gt;</span>    </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">3</span> <span style="color: #949494;">&lt;split [266/67]&gt;</span> Fold3 <span style="color: #949494;">&lt;tibble [30 × 5]&gt;</span> <span style="color: #949494;">&lt;tibble&gt;</span> <span style="color: #949494;">&lt;tibble&gt;</span>  <span style="color: #949494;">&lt;tibble&gt;</span>    </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">4</span> <span style="color: #949494;">&lt;split [267/66]&gt;</span> Fold4 <span style="color: #949494;">&lt;tibble [30 × 5]&gt;</span> <span style="color: #949494;">&lt;tibble&gt;</span> <span style="color: #949494;">&lt;tibble&gt;</span>  <span style="color: #949494;">&lt;tibble&gt;</span>    </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">5</span> <span style="color: #949494;">&lt;split [267/66]&gt;</span> Fold5 <span style="color: #949494;">&lt;tibble [30 × 5]&gt;</span> <span style="color: #949494;">&lt;tibble&gt;</span> <span style="color: #949494;">&lt;tibble&gt;</span>  <span style="color: #949494;">&lt;tibble&gt;</span></span></span></code></pre></div>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">res_metrics</span> <span class="op">&lt;-</span> <span class="va">res</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> <span class="fu"><a href="https://tune.tidymodels.org/reference/collect_predictions.html" class="external-link">collect_metrics</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="va">res_metrics</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 30 × 7</span></span></span>
<span><span class="co">#&gt;    num_clusters .metric          .estimator     mean     n std_err .config</span></span>
<span><span class="co">#&gt;           <span style="color: #949494; font-style: italic;">&lt;int&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>            <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>         <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;int&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>  </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 1</span>            1 sse_ratio        standard      1         5 0   <span style="color: #949494;"> </span>   Prepro…</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 2</span>            1 sse_total        standard   <span style="text-decoration: underline;">8</span>971.        5 1.19<span style="color: #949494;">e</span>+2 Prepro…</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 3</span>            1 sse_within_total standard   <span style="text-decoration: underline;">8</span>971.        5 1.19<span style="color: #949494;">e</span>+2 Prepro…</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 4</span>            2 sse_ratio        standard      0.321     5 1.41<span style="color: #949494;">e</span><span style="color: #BB0000;">-3</span> Prepro…</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 5</span>            2 sse_total        standard   <span style="text-decoration: underline;">8</span>971.        5 1.19<span style="color: #949494;">e</span>+2 Prepro…</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 6</span>            2 sse_within_total standard   <span style="text-decoration: underline;">2</span>885.        5 4.73<span style="color: #949494;">e</span>+1 Prepro…</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 7</span>            3 sse_ratio        standard      0.202     5 2.21<span style="color: #949494;">e</span><span style="color: #BB0000;">-3</span> Prepro…</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 8</span>            3 sse_total        standard   <span style="text-decoration: underline;">8</span>971.        5 1.19<span style="color: #949494;">e</span>+2 Prepro…</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 9</span>            3 sse_within_total standard   <span style="text-decoration: underline;">1</span>809.        5 3.47<span style="color: #949494;">e</span>+1 Prepro…</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">10</span>            4 sse_ratio        standard      0.160     5 5.79<span style="color: #949494;">e</span><span style="color: #BB0000;">-3</span> Prepro…</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># ℹ 20 more rows</span></span></span></code></pre></div>
<div class="section level3">
<h3 id="choosing-hyperparameters">Choosing hyperparameters<a class="anchor" aria-label="anchor" href="#choosing-hyperparameters"></a>
</h3>
<p>In supervised learning, we would choose the model with the best value
of a target metric. However, clustering models in general have no such
local maxima or minima. With more clusters in the model, we would always
expect the within sum-of-squares to be smaller.</p>
<p>A common approach to choosing a number of clusters is to look for an
“elbow”, or notable bend, in the plot of WSS/TSS ratio by cluster
number:</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">res_metrics</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="va">.metric</span> <span class="op">==</span> <span class="st">"sse_ratio"</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html" class="external-link">ggplot</a></span><span class="op">(</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">num_clusters</span>, y <span class="op">=</span> <span class="va">mean</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_point.html" class="external-link">geom_point</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_path.html" class="external-link">geom_line</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggtheme.html" class="external-link">theme_minimal</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html" class="external-link">ylab</a></span><span class="op">(</span><span class="st">"mean WSS/TSS ratio, over 5 folds"</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html" class="external-link">xlab</a></span><span class="op">(</span><span class="st">"Number of clusters"</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/scale_continuous.html" class="external-link">scale_x_continuous</a></span><span class="op">(</span>breaks <span class="op">=</span> <span class="fl">1</span><span class="op">:</span><span class="fl">10</span><span class="op">)</span></span></code></pre></div>
<p><img src="tuning_and_metrics_files/figure-html/unnamed-chunk-7-1.png" alt="Connected line chart. Number of clusters along the x-axis, mean WSS/TSS ratio, over 5 folds along the y-axis. X-axis ranges from 1 to 10, with 1 having an value of 1, 2 having a value of 0.35, and the rest haver an ever decreasing value." width="700"></p>
<p>At each increase in the number of clusters, the WSS/TSS ratio
decreases, with the amount of decrease getting smaller as the number of
clusters grows. We might argue that the drop from two clusters to three,
or from three to four, is a bit more extreme than the subsequent drops,
so we should probably choose three or four clusters.</p>
<!-- ## Comparison to auxilary variables -->
<!-- It is sometimes of interest to compare to external variables -->
<!-- ```{r, eval=FALSE} -->
<!-- kmeans_fit %>% -->
<!--   augment(penguins) %>% -->
<!--   enrichment(.pred_cluster, species) -->
<!-- ``` -->
</div>
</div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside>
</div>



   </div>
  <footer><div class="container">
  <div class="pkgdown-footer-left">
  <p>Developed by Emil Hvitfeldt, Kelly Bodwin, <a href="https://www.posit.co" class="external-link"><img src="https://www.tidyverse.org/posit-logo.svg" alt="Posit" height="16" width="62" style="margin-bottom: 3px;"></a>.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.9.</p>
</div>

  </div></footer>
</body>
</html>
